<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Visualization 1 Prototype</title>

    <!-- ADD Libraries-->
    <script src="libs/d3/d3.min.js" charset="utf-8"></script>
    <script src="libs/jquery/jquery-2.1.1.min.js" charset="utf-8"></script>
    <script src="libs/bootstrap/js/bootstrap.min.js" charset="utf-8"></script>
    <script src="http://d3js.org/queue.v1.min.js"></script>
    <!-- Load c3.js -->
    <script src="libs/c3/c3-0.4.10/c3.min.js"></script>

    <!--Stylesheets-->
    <link rel="stylesheet" type="text/css" href="libs/bootstrap/css/bootstrap.min.css"> 
    <!-- Load c3.css -->
    <link href="libs/c3/c3-0.4.10/c3.css" rel="stylesheet" type="text/css">
   
    <!-- Get some nice font-->
    <link href='http://fonts.googleapis.com/css?family=PT+Sans:400,700' rel='stylesheet' type='text/css'>

    <!-- add own vis classes-->
    <!--<script src = "js/priovis.js"></script>-->
    <!--<script src = "js/agevis.js"></script>-->
    <!--<script src = "js/countvis.js"></script>-->

    <!-- add own stylesheet-->
    <!--<link rel="stylesheet" type="text/css" href="css/myStyle.css">-->

</head>
<body>
    <div class="container">
        <h1>Visualization 1 Prototype</h1>
    </div>   
    <div> 
        <button class="small" onclick="hide();">Hide</button>
        <button class="small" onclick="show();">Show</button>
    </div>
    <div id="chart"></div>
</body> 
    <script>
        var allData = {
            "couples": [
            {
                "coupleid": "268675",
                "couple": "Stephen Nadeau & Jessica Smith", 
                "country": "USA",
                "competitions": [
                    {
                        "date": "13 Feb 2015",
                        "style": "Ballroom",
                        "change": "=",
                        "score": "1352",
                        "result": "1",
                        "age": "Amateur",
                        "compid": "25894",
                        "url": "Boston_University_Ballroom_Competition_268675",
                        "name": "Boston University Ballroom Competition 2015",
                        "rating": "10"
                    },
                    {
                        "date": "5 Mar 2015",
                        "style": "Ballroom",
                        "change": "+5",
                        "score": "1357",
                        "result": "3",
                        "age": "Amateur",
                        "compid": "17937",
                        "url": "15th_Annual_Berkeley_Classic_Ballroom_Competition_2015_268675",
                        "name": "15th Annual Berkeley Classic Ballroom Competition 2015",
                        "rating": "88"
                    },
                    {
                        "date": "10 Apr 2015",
                        "style": "Ballroom",
                        "change": "+1",
                        "score": "1358",
                        "result": "3",
                        "age": "Amateur",
                        "compid": "27394",
                        "url": "25th_Annual_Harvard_Invitational_2015_268675",
                        "name": "25th Annual Harvard Invitational 2015",
                        "rating": "10"
                    }
                ]    
            },
            {
                "coupleid": "119900",
                "couple": "John Smith & Jane Doe",
                "country": "USA",
                "competitions": [
                    {
                        "date": "13 Feb 2015",
                        "style": "Ballroom",
                        "change": "=",
                        "score": "1292",
                        "result": "1",
                        "age": "Amateur",
                        "compid": "25894",
                        "url": "Boston_University_Ballroom_Competition_119900",
                        "name": "Boston University Ballroom Competition 2015",
                        "rating": "102"
                    },
                    {
                        "date": "5 Mar 2015",
                        "style": "Ballroom",
                        "change": "+10",
                        "score": "1302",
                        "result": "3",
                        "age": "Amateur",
                        "compid": "17937",
                        "url": "15th_Annual_Berkeley_Classic_Ballroom_Competition_2015_119900",
                        "name": "15th Annual Berkeley Classic Ballroom Competition 2015",
                        "rating": "88"
                    },
                    {
                        "date": "10 Apr 2015",
                        "style": "Ballroom",
                        "change": "-1",
                        "score": "1301",
                        "result": "3",
                        "age": "Amateur",
                        "compid": "27394",
                        "url": "25th_Annual_Harvard_Invitational_2015_119900",
                        "name": "25th Annual Harvard Invitational 2015",
                        "rating": "10"
                    }
                ]
            }]
        };

        var dataToUse = {
            "couple1": [],
            "couple2": [],
            "couple3": [],
            "couple4": [],
            "couple5": [] 
        };

        //console.log(allData);
        //console.log(dataToUse);
        //console.log(allData.couples[0])
        allData.couples.map(function(d,i) {         
            d.competitions.map(function(e, j) {
                //console.log(e);
                count = i + 1;
                dataToUse["couple" + count + ""][j] = e.score;
            })
        });
        console.log(dataToUse)
        
        var chart = c3.generate({
            bindto: '#chart',
            data: {
                json: dataToUse
            },      
        }) 



        /*var chart = c3.generate({
            bindto: '#chart',
            data: {
              columns: [
                ['data1', 30, 200, 100, 400, 150, 250],
                ['data2', 50, 20, 10, 40, 15, 400],
                ['data3', 40, 50, 100, 300, 150, 250]
              ],
              data3: {
                show: false // ADD
              }
            }
        })*/

        /*var chart = c3.generate({
            bindto: '#chart',
            data: {
                json: {
                    data1: [30, 20, 50, 40, 60, 50],
                    data2: [200, 130, 90, 240, 130, 220],
                    data3: [300, 200, 160, 400, 250, 250]
                }
            },      
        }) */


        var hide = function() {
            chart.hide(['couple2']);
        }
        var show = function() {
            chart.show(['couple2'])
        }
    </script>






